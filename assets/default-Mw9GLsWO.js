import{p as W,m as se,a as re,g as q,u as z,c as l,b as Ie,d as Be,e as Ce,f as Me,h as ie,t as ee,i as Pe,j as Ee,k as He,l as Ne,n as Le,s as P,o as b,q as Ae,V as Re,r as le,v as K,w as rt,x as F,y as ut,z as R,A as de,B as ve,C as De,D as $e,E as Q,F as Ye,G as te,H as Ue,I as it,J as D,K as ct,L as dt,M as vt,N as mt,O as gt,P as ft,Q as ht,R as Oe,S as yt,T as pt,U as bt,W as U,X as wt,Y as Vt,Z as St,_ as me,$ as k,a0 as N,a1 as S,a2 as _t,a3 as xt,a4 as O,a5 as m,a6 as A,a7 as oe,a8 as ne,a9 as H,aa as We,ab as ge,ac as qe,ad as ze,ae as Fe,af as Xe,ag as j,ah as Ze,ai as kt,aj as je,ak as Tt,al as It,am as Se,an as Bt,ao as Y}from"./index-CWikNf2Y.js";import{u as fe,V as Ct,a as Mt,b as ue}from"./VMenu-CByEKNdx.js";import{c as Ge,a as G,b as Pt,u as Je,d as J,V as Ke}from"./index.esm-9innt4fj.js";import{v as ce}from"./index-DWPF0MUK.js";import{V as Et}from"./VContainer-DofNjeNN.js";const Qe=W({text:String,...se(),...re()},"VToolbarTitle"),et=q()({name:"VToolbarTitle",props:Qe(),setup(e,u){let{slots:t}=u;return z(()=>{const h=!!(t.default||t.text||e.text);return l(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var a;return[h&&l("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(a=t.default)==null?void 0:a.call(t)])]}})}),{}}}),Ht=[null,"prominent","default","comfortable","compact"],tt=W({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ht.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Ie(),...se(),...Be(),...Ce(),...re({tag:"header"}),...Me()},"VToolbar"),_e=q()({name:"VToolbar",props:tt(),setup(e,u){var s;let{slots:t}=u;const{backgroundColorClasses:h,backgroundColorStyles:a}=ie(ee(e,"color")),{borderClasses:n}=Pe(e),{elevationClasses:r}=Ee(e),{roundedClasses:c}=He(e),{themeClasses:f}=Ne(e),{rtlClasses:y}=Le(),v=P(!!(e.extended||(s=t.extension)!=null&&s.call(t))),g=b(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),o=b(()=>v.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Ae({VBtn:{variant:"text"}}),z(()=>{var L;const i=!!(e.title||t.title),d=!!(t.image||e.image),C=(L=t.extension)==null?void 0:L.call(t);return v.value=!!(e.extended||C),l(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},h.value,n.value,r.value,c.value,f.value,y.value,e.class],style:[a.value,e.style]},{default:()=>[d&&l("div",{key:"image",class:"v-toolbar__image"},[t.image?l(le,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):l(Re,{key:"image-img",cover:!0,src:e.image},null)]),l(le,{defaults:{VTabs:{height:K(g.value)}}},{default:()=>{var E,w,M;return[l("div",{class:"v-toolbar__content",style:{height:K(g.value)}},[t.prepend&&l("div",{class:"v-toolbar__prepend"},[(E=t.prepend)==null?void 0:E.call(t)]),i&&l(et,{key:"title",text:e.title},{text:t.title}),(w=t.default)==null?void 0:w.call(t),t.append&&l("div",{class:"v-toolbar__append"},[(M=t.append)==null?void 0:M.call(t)])])]}}),l(le,{defaults:{VTabs:{height:K(o.value)}}},{default:()=>[l(rt,null,{default:()=>[v.value&&l("div",{class:"v-toolbar__extension",style:{height:K(o.value)}},[C])]})]})]})}),{contentHeight:g,extensionHeight:o}}}),Nt=W({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Lt(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=u;let h=0,a=0;const n=F(null),r=P(0),c=P(0),f=P(0),y=P(!1),v=P(!1),g=b(()=>Number(e.scrollThreshold)),o=b(()=>ut((g.value-r.value)/g.value||0)),s=()=>{const i=n.value;if(!i||t&&!t.value)return;h=r.value,r.value="window"in i?i.pageYOffset:i.scrollTop;const d=i instanceof Window?document.documentElement.scrollHeight:i.scrollHeight;if(a!==d){a=d;return}v.value=r.value<h,f.value=Math.abs(r.value-g.value)};return R(v,()=>{c.value=c.value||r.value}),R(y,()=>{c.value=0}),de(()=>{R(()=>e.scrollTarget,i=>{var C;const d=i?document.querySelector(i):window;d&&d!==n.value&&((C=n.value)==null||C.removeEventListener("scroll",s),n.value=d,n.value.addEventListener("scroll",s,{passive:!0}))},{immediate:!0})}),ve(()=>{var i;(i=n.value)==null||i.removeEventListener("scroll",s)}),t&&R(t,s,{immediate:!0}),{scrollThreshold:g,currentScroll:r,currentThreshold:f,isScrollActive:y,scrollRatio:o,isScrollingUp:v,savedScroll:c}}const At=W({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...tt(),...De(),...Nt(),height:{type:[Number,String],default:64}},"VAppBar"),Rt=q()({name:"VAppBar",props:At(),emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:t}=u;const h=F(),a=$e(e,"modelValue"),n=b(()=>{var M;const w=new Set(((M=e.scrollBehavior)==null?void 0:M.split(" "))??[]);return{hide:w.has("hide"),fullyHide:w.has("fully-hide"),inverted:w.has("inverted"),collapse:w.has("collapse"),elevate:w.has("elevate"),fadeImage:w.has("fade-image")}}),r=b(()=>{const w=n.value;return w.hide||w.fullyHide||w.inverted||w.collapse||w.elevate||w.fadeImage||!a.value}),{currentScroll:c,scrollThreshold:f,isScrollingUp:y,scrollRatio:v}=Lt(e,{canScroll:r}),g=b(()=>n.value.hide||n.value.fullyHide),o=b(()=>e.collapse||n.value.collapse&&(n.value.inverted?v.value>0:v.value===0)),s=b(()=>e.flat||n.value.fullyHide&&!a.value||n.value.elevate&&(n.value.inverted?c.value>0:c.value===0)),i=b(()=>n.value.fadeImage?n.value.inverted?1-v.value:v.value:void 0),d=b(()=>{var $,p;const w=Number((($=h.value)==null?void 0:$.contentHeight)??e.height),M=Number(((p=h.value)==null?void 0:p.extensionHeight)??0);return g.value?c.value<f.value||n.value.fullyHide?w+M:w:w+M});Q(b(()=>!!e.scrollBehavior),()=>{Ue(()=>{g.value?n.value.inverted?a.value=c.value>f.value:a.value=y.value||c.value<f.value:a.value=!0})});const{ssrBootStyles:C}=fe(),{layoutItemStyles:L,layoutIsReady:E}=Ye({id:e.name,order:b(()=>parseInt(e.order,10)),position:ee(e,"location"),layoutSize:d,elementSize:P(void 0),active:a,absolute:ee(e,"absolute")});return z(()=>{const w=_e.filterProps(e);return l(_e,te({ref:h,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...L.value,"--v-toolbar-image-opacity":i.value,height:void 0,...C.value},e.style]},w,{collapse:o.value,flat:s.value}),t)}),E}}),Dt=W({...it({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),$t=q()({name:"VAppBarNavIcon",props:Dt(),setup(e,u){let{slots:t}=u;return z(()=>l(D,te(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),Yt=q()({name:"VAppBarTitle",props:Qe(),setup(e,u){let{slots:t}=u;return z(()=>l(et,te(e,{class:"v-app-bar-title"}),t)),{}}}),Ut=W({scrollable:Boolean,...se(),...ct(),...re({tag:"main"})},"VMain"),Ot=q()({name:"VMain",props:Ut(),setup(e,u){let{slots:t}=u;const{dimensionStyles:h}=dt(e),{mainStyles:a,layoutIsReady:n}=vt(),{ssrBootStyles:r}=fe();return z(()=>l(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[a.value,r.value,h.value,e.style]},{default:()=>{var c,f;return[e.scrollable?l("div",{class:"v-main__scroller"},[(c=t.default)==null?void 0:c.call(t)]):(f=t.default)==null?void 0:f.call(t)]}})),n}});function Wt(e){let{rootEl:u,isSticky:t,layoutItemStyles:h}=e;const a=P(!1),n=P(0),r=b(()=>{const y=typeof a.value=="boolean"?"top":a.value;return[t.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[y]:K(n.value)}:{top:h.value.top}]});de(()=>{R(t,y=>{y?window.addEventListener("scroll",f,{passive:!0}):window.removeEventListener("scroll",f)},{immediate:!0})}),ve(()=>{window.removeEventListener("scroll",f)});let c=0;function f(){const y=c>window.scrollY?"up":"down",v=u.value.getBoundingClientRect(),g=parseFloat(h.value.top??0),o=window.scrollY-Math.max(0,n.value-g),s=v.height+Math.max(n.value,g)-window.scrollY-window.innerHeight,i=parseFloat(getComputedStyle(u.value).getPropertyValue("--v-body-scroll-y"))||0;v.height<window.innerHeight-g?(a.value="top",n.value=g):y==="up"&&a.value==="bottom"||y==="down"&&a.value==="top"?(n.value=window.scrollY+v.top-i,a.value=!0):y==="down"&&s<=0?(n.value=0,a.value="bottom"):y==="up"&&o<=0&&(i?a.value!=="top"&&(n.value=-o+i+g,a.value="top"):(n.value=v.top+o,a.value="top")),c=window.scrollY}return{isStuck:a,stickyStyles:r}}const qt=100,zt=20;function xe(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ke(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let u=0;for(let t=e.length-1;t>0;t--){if(e[t].t===e[t-1].t)continue;const h=xe(u),a=(e[t].d-e[t-1].d)/(e[t].t-e[t-1].t);u+=(a-h)*Math.abs(a),t===e.length-1&&(u*=.5)}return xe(u)*1e3}function Ft(){const e={};function u(a){Array.from(a.changedTouches).forEach(n=>{(e[n.identifier]??(e[n.identifier]=new mt(zt))).push([a.timeStamp,n])})}function t(a){Array.from(a.changedTouches).forEach(n=>{delete e[n.identifier]})}function h(a){var y;const n=(y=e[a])==null?void 0:y.values().reverse();if(!n)throw new Error(`No samples for touch id ${a}`);const r=n[0],c=[],f=[];for(const v of n){if(r[0]-v[0]>qt)break;c.push({t:v[0],d:v[1].clientX}),f.push({t:v[0],d:v[1].clientY})}return{x:ke(c),y:ke(f),get direction(){const{x:v,y:g}=this,[o,s]=[Math.abs(v),Math.abs(g)];return o>s&&v>=0?"right":o>s&&v<=0?"left":s>o&&g>=0?"down":s>o&&g<=0?"up":Xt()}}}return{addMovement:u,endTouch:t,getVelocity:h}}function Xt(){throw new Error}function Zt(e){let{el:u,isActive:t,isTemporary:h,width:a,touchless:n,position:r}=e;de(()=>{window.addEventListener("touchstart",E,{passive:!0}),window.addEventListener("touchmove",w,{passive:!1}),window.addEventListener("touchend",M,{passive:!0})}),ve(()=>{window.removeEventListener("touchstart",E),window.removeEventListener("touchmove",w),window.removeEventListener("touchend",M)});const c=b(()=>["left","right"].includes(r.value)),{addMovement:f,endTouch:y,getVelocity:v}=Ft();let g=!1;const o=P(!1),s=P(0),i=P(0);let d;function C(p,V){return(r.value==="left"?p:r.value==="right"?document.documentElement.clientWidth-p:r.value==="top"?p:r.value==="bottom"?document.documentElement.clientHeight-p:Z())-(V?a.value:0)}function L(p){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const _=r.value==="left"?(p-i.value)/a.value:r.value==="right"?(document.documentElement.clientWidth-p-i.value)/a.value:r.value==="top"?(p-i.value)/a.value:r.value==="bottom"?(document.documentElement.clientHeight-p-i.value)/a.value:Z();return V?Math.max(0,Math.min(1,_)):_}function E(p){if(n.value)return;const V=p.changedTouches[0].clientX,_=p.changedTouches[0].clientY,x=25,I=r.value==="left"?V<x:r.value==="right"?V>document.documentElement.clientWidth-x:r.value==="top"?_<x:r.value==="bottom"?_>document.documentElement.clientHeight-x:Z(),T=t.value&&(r.value==="left"?V<a.value:r.value==="right"?V>document.documentElement.clientWidth-a.value:r.value==="top"?_<a.value:r.value==="bottom"?_>document.documentElement.clientHeight-a.value:Z());(I||T||t.value&&h.value)&&(d=[V,_],i.value=C(c.value?V:_,t.value),s.value=L(c.value?V:_),g=i.value>-20&&i.value<80,y(p),f(p))}function w(p){const V=p.changedTouches[0].clientX,_=p.changedTouches[0].clientY;if(g){if(!p.cancelable){g=!1;return}const I=Math.abs(V-d[0]),T=Math.abs(_-d[1]);(c.value?I>T&&I>3:T>I&&T>3)?(o.value=!0,g=!1):(c.value?T:I)>3&&(g=!1)}if(!o.value)return;p.preventDefault(),f(p);const x=L(c.value?V:_,!1);s.value=Math.max(0,Math.min(1,x)),x>1?i.value=C(c.value?V:_,!0):x<0&&(i.value=C(c.value?V:_,!1))}function M(p){if(g=!1,!o.value)return;f(p),o.value=!1;const V=v(p.changedTouches[0].identifier),_=Math.abs(V.x),x=Math.abs(V.y);(c.value?_>x&&_>400:x>_&&x>3)?t.value=V.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||Z()):t.value=s.value>.5}const $=b(()=>o.value?{transform:r.value==="left"?`translateX(calc(-100% + ${s.value*a.value}px))`:r.value==="right"?`translateX(calc(100% - ${s.value*a.value}px))`:r.value==="top"?`translateY(calc(-100% + ${s.value*a.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${s.value*a.value}px))`:Z(),transition:"none"}:void 0);return Q(o,()=>{var _,x;const p=((_=u.value)==null?void 0:_.style.transform)??null,V=((x=u.value)==null?void 0:x.style.transition)??null;Ue(()=>{var I,T,X,ae;(T=u.value)==null||T.style.setProperty("transform",((I=$.value)==null?void 0:I.transform)||"none"),(ae=u.value)==null||ae.style.setProperty("transition",((X=$.value)==null?void 0:X.transition)||null)}),gt(()=>{var I,T;(I=u.value)==null||I.style.setProperty("transform",p),(T=u.value)==null||T.style.setProperty("transition",V)})}),{isDragging:o,dragProgress:s,dragStyles:$}}function Z(){throw new Error}const jt=["start","end","left","right","top","bottom"],Gt=W({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>jt.includes(e)},sticky:Boolean,...Ie(),...se(),...ft(),...ht({mobile:null}),...Be(),...De(),...Ce(),...re({tag:"nav"}),...Me()},"VNavigationDrawer"),Jt=q()({name:"VNavigationDrawer",props:Gt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,u){let{attrs:t,emit:h,slots:a}=u;const{isRtl:n}=Le(),{themeClasses:r}=Ne(e),{borderClasses:c}=Pe(e),{backgroundColorClasses:f,backgroundColorStyles:y}=ie(ee(e,"color")),{elevationClasses:v}=Ee(e),{displayClasses:g,mobile:o}=Oe(e),{roundedClasses:s}=He(e),i=yt(),d=$e(e,"modelValue",null,B=>!!B),{ssrBootStyles:C}=fe(),{scopeId:L}=pt(),E=F(),w=P(!1),{runOpenDelay:M,runCloseDelay:$}=wt(e,B=>{w.value=B}),p=b(()=>e.rail&&e.expandOnHover&&w.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),V=b(()=>Vt(e.location,n.value)),_=b(()=>e.persistent),x=b(()=>!e.permanent&&(o.value||e.temporary)),I=b(()=>e.sticky&&!x.value&&V.value!=="bottom");Q(()=>e.expandOnHover&&e.rail!=null,()=>{R(w,B=>h("update:rail",!B))}),Q(()=>!e.disableResizeWatcher,()=>{R(x,B=>!e.permanent&&St(()=>d.value=!B))}),Q(()=>!e.disableRouteWatcher&&!!i,()=>{R(i.currentRoute,()=>x.value&&(d.value=!1))}),R(()=>e.permanent,B=>{B&&(d.value=!0)}),e.modelValue==null&&!x.value&&(d.value=e.permanent||!o.value);const{isDragging:T,dragProgress:X}=Zt({el:E,isActive:d,isTemporary:x,width:p,touchless:ee(e,"touchless"),position:V}),ae=b(()=>{const B=x.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):p.value;return T.value?B*X.value:B}),at=b(()=>["top","bottom"].includes(e.location)?0:p.value),{layoutItemStyles:he,layoutItemScrimStyles:lt,layoutIsReady:nt}=Ye({id:e.name,order:b(()=>parseInt(e.order,10)),position:V,layoutSize:ae,elementSize:at,active:b(()=>d.value||T.value),disableTransitions:b(()=>T.value),absolute:b(()=>e.absolute||I.value&&typeof ye.value!="string")}),{isStuck:ye,stickyStyles:ot}=Wt({rootEl:E,isSticky:I,layoutItemStyles:he}),pe=ie(b(()=>typeof e.scrim=="string"?e.scrim:null)),st=b(()=>({...T.value?{opacity:X.value*.2,transition:"none"}:void 0,...lt.value}));return Ae({VList:{bgColor:"transparent"}}),z(()=>{const B=a.image||e.image;return l(U,null,[l(e.tag,te({ref:E,onMouseenter:M,onMouseleave:$,class:["v-navigation-drawer",`v-navigation-drawer--${V.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":w.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":x.value,"v-navigation-drawer--persistent":_.value,"v-navigation-drawer--active":d.value,"v-navigation-drawer--sticky":I.value},r.value,f.value,c.value,g.value,v.value,s.value,e.class],style:[y.value,he.value,C.value,ot.value,e.style,["top","bottom"].includes(V.value)?{height:"auto"}:{}]},L,t),{default:()=>{var be,we,Ve;return[B&&l("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?l(le,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},a.image):l(Re,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),a.prepend&&l("div",{class:"v-navigation-drawer__prepend"},[(be=a.prepend)==null?void 0:be.call(a)]),l("div",{class:"v-navigation-drawer__content"},[(we=a.default)==null?void 0:we.call(a)]),a.append&&l("div",{class:"v-navigation-drawer__append"},[(Ve=a.append)==null?void 0:Ve.call(a)])]}}),l(bt,{name:"fade-transition"},{default:()=>[x.value&&(T.value||d.value)&&!!e.scrim&&l("div",te({class:["v-navigation-drawer__scrim",pe.backgroundColorClasses.value],style:[st.value,pe.backgroundColorStyles.value],onClick:()=>{_.value||(d.value=!1)}},L),null)]})])}),nt.then(()=>({isStuck:ye}))}}),Kt=""+new URL("LOGO-br-CM9JY9dm.png",import.meta.url).href,Qt={class:"text-center"},ea=["src"],ta={__name:"hoverMenu",setup(e){const u=me(),t=u.account,h=u.icon,a=F([{title:"寫譜專區",to:"/writtingArea",prependIcon:"mdi-pencil-box"},{title:"我的鼓譜",to:"/myScore",prependIcon:"mdi-file-document-outline"},{title:"我的收藏",to:"/mySaving",prependIcon:"mdi-content-save-all-outline"},{title:"會員資料",to:"/profile",prependIcon:"mdi-account"}]);return(n,r)=>(k(),N("div",Qt,[l(Ct,{"open-on-hover":""},{activator:S(({props:c})=>[l(D,_t(xt(c)),{default:S(()=>[O("img",{src:m(h),id:"icon",style:{width:"15px",height:"15px"}},null,8,ea),A(" "+oe(m(t)),1)]),_:2},1040)]),default:S(()=>[(k(!0),N(U,null,ne(a.value,(c,f)=>(k(),H(D,{key:f,to:c.to},{default:S(()=>[A(oe(c.title),1)]),_:2},1032,["to"]))),128))]),_:1})]))}},aa={class:"text-center pa-4 d-inline-block"},la={__name:"register",setup(e){const u=F(!1),{api:t}=kt(),h=ge(),a=Ge({account:G().required("使用者帳號必填").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符").test("isAlphanumeric","使用者帳號格式錯誤",o=>ce.isAlphanumeric(o)),email:G().required("使用者信箱必填").test("isEmail","使用者信箱格式錯誤",o=>ce.isEmail(o)),password:G().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符"),passwordConfirm:G().oneOf([Pt("password")],"密碼不一致")}),{handleSubmit:n,isSubmitting:r}=Je({validationSchema:a}),c=J("account"),f=J("email"),y=J("password"),v=J("passwordConfirm"),g=n(async o=>{var s,i;try{await t.post("/user",{account:o.account,email:o.email,password:o.password}),h({text:"註冊成功",snackbarProps:{color:"green"}}),u.value=!1}catch(d){console.log(d),h({text:((i=(s=d==null?void 0:d.response)==null?void 0:s.data)==null?void 0:i.message)||"發生錯誤",snackbarProps:{color:"red"}})}});return(o,s)=>(k(),N("div",aa,[l(D,{onClick:s[0]||(s[0]=i=>u.value=!0),variant:"text",id:"clickme"},{default:S(()=>[A(" 點我註冊會員 ")]),_:1}),l(Ze,{modelValue:u.value,"onUpdate:modelValue":s[5]||(s[5]=i=>u.value=i),width:"auto"},{default:S(()=>[l(qe,null,{default:S(()=>[l(ze,null,{default:S(()=>[A("會員註冊")]),_:1}),l(Fe,null,{default:S(()=>[l(Ke,{onSubmit:Xe(m(g),["prevent"]),disabled:m(r)},{default:S(()=>[l(j,{label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:m(c).value.value,"onUpdate:modelValue":s[1]||(s[1]=i=>m(c).value.value=i),"error-messages":m(c).errorMessage.value},null,8,["modelValue","error-messages"]),l(j,{label:"信箱",type:"email",modelValue:m(f).value.value,"onUpdate:modelValue":s[2]||(s[2]=i=>m(f).value.value=i),"error-messages":m(f).errorMessage.value},null,8,["modelValue","error-messages"]),l(j,{label:"確認密碼",type:"password",minlength:"4",maxlength:"20",counter:"",modelValue:m(v).value.value,"onUpdate:modelValue":s[3]||(s[3]=i=>m(v).value.value=i),"error-messages":m(v).errorMessage.value},null,8,["modelValue","error-messages"]),l(j,{label:"密碼",type:"password",minlength:"4",maxlength:"20",counter:"",hint:"請輸入英數字混合密碼",modelValue:m(y).value.value,"onUpdate:modelValue":s[4]||(s[4]=i=>m(y).value.value=i),"error-messages":m(y).errorMessage.value},null,8,["modelValue","error-messages"]),l(D,{type:"submit",loading:m(r)},{default:S(()=>[A("註冊")]),_:1},8,["loading"])]),_:1},8,["onSubmit","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},na=We(la,[["__scopeId","data-v-7594fe59"]]),oa=e=>(Tt("data-v-b0f056c8"),e=e(),It(),e),sa={class:"text-center pa-4"},ra=oa(()=>O("span",null,"尚未註冊會員？",-1)),ua={__name:"logIn",setup(e){const u=F(!1),t=je(),h=me(),a=ge(),n=Ge({account:G().required("使用者帳號必填").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符").test("isAlphanumeric","使用者帳號格式錯誤",g=>ce.isAlphanumeric(g)),password:G().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符")}),{handleSubmit:r,isSubmitting:c}=Je({validationSchema:n}),f=J("account"),y=J("password"),v=r(async g=>{const o=await h.login(g);o==="登入成功"?(a({text:"登入成功",snackbarProps:{color:"green"}}),t.push("/profile"),u.value=!1):alert(o)});return(g,o)=>(k(),N("div",sa,[l(D,{"prepend-icon":"mdi-account",onClick:o[0]||(o[0]=s=>u.value=!0)},{default:S(()=>[A(" 註冊/登入 ")]),_:1}),l(Ze,{modelValue:u.value,"onUpdate:modelValue":o[3]||(o[3]=s=>u.value=s),width:"auto"},{default:S(()=>[l(qe,null,{default:S(()=>[l(ze,null,{default:S(()=>[A("會員登入")]),_:1}),l(Fe,null,{default:S(()=>[l(Ke,{onSubmit:Xe(m(v),["prevent"]),disabled:m(c)},{default:S(()=>[l(j,{label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:m(f).value.value,"onUpdate:modelValue":o[1]||(o[1]=s=>m(f).value.value=s),"error-messages":m(f).errorMessage.value},null,8,["modelValue","error-messages"]),l(j,{label:"密碼",type:"password",minlength:"4",maxlength:"20",counter:"",hint:"請輸入英數字混合密碼",modelValue:m(y).value.value,"onUpdate:modelValue":o[2]||(o[2]=s=>m(y).value.value=s),"error-messages":m(y).errorMessage.value},null,8,["modelValue","error-messages"]),l(D,{type:"submit",loading:m(c)},{default:S(()=>[A("登入")]),_:1},8,["loading"])]),_:1},8,["onSubmit","disabled"]),O("div",null,[ra,l(na)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Te=We(ua,[["__scopeId","data-v-b0f056c8"]]),ia=O("img",{src:Kt,alt:"logo",id:"logoImg"},null,-1),ca={key:0,id:"userAccount"},da=["src"],va=O("p",null,"會員專區",-1),pa={__name:"default",setup(e){const{mobile:u}=Oe(),t=me(),h=t.account,a=t.icon,n=ge(),r=je(),c=F(!1),f=b(()=>[{title:"尋找練鼓室",to:"/searchTrainingRoom",prependIcon:"mdi-map-search-outline"},{title:"尋找鼓譜",to:"/searchSong",prependIcon:"mdi-text-search-variant"}]),y=b(()=>[{title:"寫譜專區",to:"/writtingArea",prependIcon:"mdi-pencil-box"},{title:"我的鼓譜",to:"/myScore",prependIcon:"mdi-file-document-outline"},{title:"我的收藏",to:"/mySaving",prependIcon:"mdi-content-save-all-outline"},{title:"會員資料",to:"/profile",prependIcon:"mdi-account"}]),v=async()=>{await t.logout(),n({text:"登出成功",snackbarProps:{color:"green"}}),r.push("/")};return(g,o)=>{const s=Se("router-link"),i=Se("router-view");return k(),N(U,null,[l(Rt,null,{default:S(()=>[l(Et,{class:"d-flex align-center"},{default:S(()=>[l(s,{to:"/"},{default:S(()=>[l(Yt,null,{default:S(()=>[ia]),_:1})]),_:1}),l(Bt),m(u)?(k(),H($t,{key:0,onClick:o[0]||(o[0]=d=>c.value=!0)})):(k(),N(U,{key:1},[(k(!0),N(U,null,ne(f.value,d=>(k(),H(D,{key:d.to,"prepend-icon":d.prependIcon,to:d.to},{default:S(()=>[A(oe(d.title),1)]),_:2},1032,["prepend-icon","to"]))),128)),m(t).isLogin?(k(),H(m(ta),{key:0})):Y("",!0),m(t).isLogin?(k(),H(D,{key:1,onClick:v},{default:S(()=>[A("登出")]),_:1})):Y("",!0),m(t).isLogin?Y("",!0):(k(),H(m(Te),{key:2}))],64))]),_:1})]),_:1}),m(u)?(k(),H(Jt,{key:0,modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=d=>c.value=d)},{default:S(()=>[m(t).isLogin?(k(),N("div",ca,[O("img",{src:m(a),id:"icon",style:{width:"40px",height:"40px"}},null,8,da),O("span",null,oe(m(h)),1)])):Y("",!0),l(Mt),(k(!0),N(U,null,ne(f.value,d=>(k(),H(ue,{key:d.to,"prepend-icon":d.prependIcon,to:d.to,title:d.title},null,8,["prepend-icon","to","title"]))),128)),m(t).isLogin?(k(),N(U,{key:1},[va,(k(!0),N(U,null,ne(y.value,d=>(k(),H(ue,{key:d.to,"prepend-icon":d.prependIcon,to:d.to,title:d.title},null,8,["prepend-icon","to","title"]))),128))],64)):Y("",!0),m(t).isLogin?Y("",!0):(k(),H(m(Te),{key:2})),m(t).isLogin?(k(),H(ue,{key:3,onClick:v,title:"登出"})):Y("",!0)]),_:1},8,["modelValue"])):Y("",!0),l(Ot,null,{default:S(()=>[l(i)]),_:1})],64)}}};export{pa as default};
