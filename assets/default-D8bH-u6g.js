import{p as W,m as se,a as re,g as z,u as q,c as l,b as Be,d as Ce,e as Pe,f as Ee,h as ie,t as ee,i as Me,j as He,k as Ne,l as Ae,n as Le,s as E,o as b,q as Re,V as De,r as le,v as K,w as ut,x as F,y as it,z as $,A as de,B as ve,C as $e,D as Ue,E as Q,F as Ye,G as te,H as Oe,I as ct,J as U,K as dt,L as vt,M as mt,N as gt,O as ft,P as ht,Q as yt,R as We,S as pt,T as bt,U as wt,W as D,X as St,Y as Vt,Z as _t,_ as me,$ as x,a0 as M,a1 as _,a2 as kt,a3 as xt,a4 as O,a5 as v,a6 as R,a7 as oe,a8 as ne,a9 as L,aa as ze,ab as ge,ac as qe,ad as Fe,ae as Xe,af as Ze,ag as j,ah as je,ai as Tt,aj as Ge,ak as It,al as Bt,am as Ve,an as Ct,ao as A}from"./index-QjNOvxgV.js";import{u as fe,V as Pt,a as _e,b as ue}from"./VMenu-BfM2jbnX.js";import{c as Je,a as G,b as Et,u as Ke,d as J,V as Qe}from"./index.esm-BNUcQ6WI.js";import{v as ce}from"./index-DcBOdE6S.js";import"./_commonjsHelpers-Cpj98o6Y.js";const et=W({text:String,...se(),...re()},"VToolbarTitle"),tt=z()({name:"VToolbarTitle",props:et(),setup(e,u){let{slots:t}=u;return q(()=>{const h=!!(t.default||t.text||e.text);return l(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var a;return[h&&l("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(a=t.default)==null?void 0:a.call(t)])]}})}),{}}}),Mt=[null,"prominent","default","comfortable","compact"],at=W({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Mt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Be(),...se(),...Ce(),...Pe(),...re({tag:"header"}),...Ee()},"VToolbar"),ke=z()({name:"VToolbar",props:at(),setup(e,u){var s;let{slots:t}=u;const{backgroundColorClasses:h,backgroundColorStyles:a}=ie(ee(e,"color")),{borderClasses:n}=Me(e),{elevationClasses:r}=He(e),{roundedClasses:c}=Ne(e),{themeClasses:f}=Ae(e),{rtlClasses:y}=Le(),m=E(!!(e.extended||(s=t.extension)!=null&&s.call(t))),g=b(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),o=b(()=>m.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Re({VBtn:{variant:"text"}}),q(()=>{var N;const i=!!(e.title||t.title),d=!!(t.image||e.image),C=(N=t.extension)==null?void 0:N.call(t);return m.value=!!(e.extended||C),l(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},h.value,n.value,r.value,c.value,f.value,y.value,e.class],style:[a.value,e.style]},{default:()=>[d&&l("div",{key:"image",class:"v-toolbar__image"},[t.image?l(le,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):l(De,{key:"image-img",cover:!0,src:e.image},null)]),l(le,{defaults:{VTabs:{height:K(g.value)}}},{default:()=>{var H,w,P;return[l("div",{class:"v-toolbar__content",style:{height:K(g.value)}},[t.prepend&&l("div",{class:"v-toolbar__prepend"},[(H=t.prepend)==null?void 0:H.call(t)]),i&&l(tt,{key:"title",text:e.title},{text:t.title}),(w=t.default)==null?void 0:w.call(t),t.append&&l("div",{class:"v-toolbar__append"},[(P=t.append)==null?void 0:P.call(t)])])]}}),l(le,{defaults:{VTabs:{height:K(o.value)}}},{default:()=>[l(ut,null,{default:()=>[m.value&&l("div",{class:"v-toolbar__extension",style:{height:K(o.value)}},[C])]})]})]})}),{contentHeight:g,extensionHeight:o}}}),Ht=W({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Nt(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=u;let h=0,a=0;const n=F(null),r=E(0),c=E(0),f=E(0),y=E(!1),m=E(!1),g=b(()=>Number(e.scrollThreshold)),o=b(()=>it((g.value-r.value)/g.value||0)),s=()=>{const i=n.value;if(!i||t&&!t.value)return;h=r.value,r.value="window"in i?i.pageYOffset:i.scrollTop;const d=i instanceof Window?document.documentElement.scrollHeight:i.scrollHeight;if(a!==d){a=d;return}m.value=r.value<h,f.value=Math.abs(r.value-g.value)};return $(m,()=>{c.value=c.value||r.value}),$(y,()=>{c.value=0}),de(()=>{$(()=>e.scrollTarget,i=>{var C;const d=i?document.querySelector(i):window;d&&d!==n.value&&((C=n.value)==null||C.removeEventListener("scroll",s),n.value=d,n.value.addEventListener("scroll",s,{passive:!0}))},{immediate:!0})}),ve(()=>{var i;(i=n.value)==null||i.removeEventListener("scroll",s)}),t&&$(t,s,{immediate:!0}),{scrollThreshold:g,currentScroll:r,currentThreshold:f,isScrollActive:y,scrollRatio:o,isScrollingUp:m,savedScroll:c}}const At=W({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...at(),...$e(),...Ht(),height:{type:[Number,String],default:64}},"VAppBar"),Lt=z()({name:"VAppBar",props:At(),emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:t}=u;const h=F(),a=Ue(e,"modelValue"),n=b(()=>{var P;const w=new Set(((P=e.scrollBehavior)==null?void 0:P.split(" "))??[]);return{hide:w.has("hide"),fullyHide:w.has("fully-hide"),inverted:w.has("inverted"),collapse:w.has("collapse"),elevate:w.has("elevate"),fadeImage:w.has("fade-image")}}),r=b(()=>{const w=n.value;return w.hide||w.fullyHide||w.inverted||w.collapse||w.elevate||w.fadeImage||!a.value}),{currentScroll:c,scrollThreshold:f,isScrollingUp:y,scrollRatio:m}=Nt(e,{canScroll:r}),g=b(()=>n.value.hide||n.value.fullyHide),o=b(()=>e.collapse||n.value.collapse&&(n.value.inverted?m.value>0:m.value===0)),s=b(()=>e.flat||n.value.fullyHide&&!a.value||n.value.elevate&&(n.value.inverted?c.value>0:c.value===0)),i=b(()=>n.value.fadeImage?n.value.inverted?1-m.value:m.value:void 0),d=b(()=>{var Y,p;const w=Number(((Y=h.value)==null?void 0:Y.contentHeight)??e.height),P=Number(((p=h.value)==null?void 0:p.extensionHeight)??0);return g.value?c.value<f.value||n.value.fullyHide?w+P:w:w+P});Q(b(()=>!!e.scrollBehavior),()=>{Oe(()=>{g.value?n.value.inverted?a.value=c.value>f.value:a.value=y.value||c.value<f.value:a.value=!0})});const{ssrBootStyles:C}=fe(),{layoutItemStyles:N,layoutIsReady:H}=Ye({id:e.name,order:b(()=>parseInt(e.order,10)),position:ee(e,"location"),layoutSize:d,elementSize:E(void 0),active:a,absolute:ee(e,"absolute")});return q(()=>{const w=ke.filterProps(e);return l(ke,te({ref:h,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...N.value,"--v-toolbar-image-opacity":i.value,height:void 0,...C.value},e.style]},w,{collapse:o.value,flat:s.value}),t)}),H}}),Rt=W({...ct({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Dt=z()({name:"VAppBarNavIcon",props:Rt(),setup(e,u){let{slots:t}=u;return q(()=>l(U,te(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),$t=z()({name:"VAppBarTitle",props:et(),setup(e,u){let{slots:t}=u;return q(()=>l(tt,te(e,{class:"v-app-bar-title"}),t)),{}}}),Ut=W({scrollable:Boolean,...se(),...dt(),...re({tag:"main"})},"VMain"),Yt=z()({name:"VMain",props:Ut(),setup(e,u){let{slots:t}=u;const{dimensionStyles:h}=vt(e),{mainStyles:a,layoutIsReady:n}=mt(),{ssrBootStyles:r}=fe();return q(()=>l(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[a.value,r.value,h.value,e.style]},{default:()=>{var c,f;return[e.scrollable?l("div",{class:"v-main__scroller"},[(c=t.default)==null?void 0:c.call(t)]):(f=t.default)==null?void 0:f.call(t)]}})),n}});function Ot(e){let{rootEl:u,isSticky:t,layoutItemStyles:h}=e;const a=E(!1),n=E(0),r=b(()=>{const y=typeof a.value=="boolean"?"top":a.value;return[t.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[y]:K(n.value)}:{top:h.value.top}]});de(()=>{$(t,y=>{y?window.addEventListener("scroll",f,{passive:!0}):window.removeEventListener("scroll",f)},{immediate:!0})}),ve(()=>{window.removeEventListener("scroll",f)});let c=0;function f(){const y=c>window.scrollY?"up":"down",m=u.value.getBoundingClientRect(),g=parseFloat(h.value.top??0),o=window.scrollY-Math.max(0,n.value-g),s=m.height+Math.max(n.value,g)-window.scrollY-window.innerHeight,i=parseFloat(getComputedStyle(u.value).getPropertyValue("--v-body-scroll-y"))||0;m.height<window.innerHeight-g?(a.value="top",n.value=g):y==="up"&&a.value==="bottom"||y==="down"&&a.value==="top"?(n.value=window.scrollY+m.top-i,a.value=!0):y==="down"&&s<=0?(n.value=0,a.value="bottom"):y==="up"&&o<=0&&(i?a.value!=="top"&&(n.value=-o+i+g,a.value="top"):(n.value=m.top+o,a.value="top")),c=window.scrollY}return{isStuck:a,stickyStyles:r}}const Wt=100,zt=20;function xe(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function Te(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let u=0;for(let t=e.length-1;t>0;t--){if(e[t].t===e[t-1].t)continue;const h=xe(u),a=(e[t].d-e[t-1].d)/(e[t].t-e[t-1].t);u+=(a-h)*Math.abs(a),t===e.length-1&&(u*=.5)}return xe(u)*1e3}function qt(){const e={};function u(a){Array.from(a.changedTouches).forEach(n=>{(e[n.identifier]??(e[n.identifier]=new gt(zt))).push([a.timeStamp,n])})}function t(a){Array.from(a.changedTouches).forEach(n=>{delete e[n.identifier]})}function h(a){var y;const n=(y=e[a])==null?void 0:y.values().reverse();if(!n)throw new Error(`No samples for touch id ${a}`);const r=n[0],c=[],f=[];for(const m of n){if(r[0]-m[0]>Wt)break;c.push({t:m[0],d:m[1].clientX}),f.push({t:m[0],d:m[1].clientY})}return{x:Te(c),y:Te(f),get direction(){const{x:m,y:g}=this,[o,s]=[Math.abs(m),Math.abs(g)];return o>s&&m>=0?"right":o>s&&m<=0?"left":s>o&&g>=0?"down":s>o&&g<=0?"up":Ft()}}}return{addMovement:u,endTouch:t,getVelocity:h}}function Ft(){throw new Error}function Xt(e){let{el:u,isActive:t,isTemporary:h,width:a,touchless:n,position:r}=e;de(()=>{window.addEventListener("touchstart",H,{passive:!0}),window.addEventListener("touchmove",w,{passive:!1}),window.addEventListener("touchend",P,{passive:!0})}),ve(()=>{window.removeEventListener("touchstart",H),window.removeEventListener("touchmove",w),window.removeEventListener("touchend",P)});const c=b(()=>["left","right"].includes(r.value)),{addMovement:f,endTouch:y,getVelocity:m}=qt();let g=!1;const o=E(!1),s=E(0),i=E(0);let d;function C(p,S){return(r.value==="left"?p:r.value==="right"?document.documentElement.clientWidth-p:r.value==="top"?p:r.value==="bottom"?document.documentElement.clientHeight-p:Z())-(S?a.value:0)}function N(p){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const V=r.value==="left"?(p-i.value)/a.value:r.value==="right"?(document.documentElement.clientWidth-p-i.value)/a.value:r.value==="top"?(p-i.value)/a.value:r.value==="bottom"?(document.documentElement.clientHeight-p-i.value)/a.value:Z();return S?Math.max(0,Math.min(1,V)):V}function H(p){if(n.value)return;const S=p.changedTouches[0].clientX,V=p.changedTouches[0].clientY,k=25,I=r.value==="left"?S<k:r.value==="right"?S>document.documentElement.clientWidth-k:r.value==="top"?V<k:r.value==="bottom"?V>document.documentElement.clientHeight-k:Z(),T=t.value&&(r.value==="left"?S<a.value:r.value==="right"?S>document.documentElement.clientWidth-a.value:r.value==="top"?V<a.value:r.value==="bottom"?V>document.documentElement.clientHeight-a.value:Z());(I||T||t.value&&h.value)&&(d=[S,V],i.value=C(c.value?S:V,t.value),s.value=N(c.value?S:V),g=i.value>-20&&i.value<80,y(p),f(p))}function w(p){const S=p.changedTouches[0].clientX,V=p.changedTouches[0].clientY;if(g){if(!p.cancelable){g=!1;return}const I=Math.abs(S-d[0]),T=Math.abs(V-d[1]);(c.value?I>T&&I>3:T>I&&T>3)?(o.value=!0,g=!1):(c.value?T:I)>3&&(g=!1)}if(!o.value)return;p.preventDefault(),f(p);const k=N(c.value?S:V,!1);s.value=Math.max(0,Math.min(1,k)),k>1?i.value=C(c.value?S:V,!0):k<0&&(i.value=C(c.value?S:V,!1))}function P(p){if(g=!1,!o.value)return;f(p),o.value=!1;const S=m(p.changedTouches[0].identifier),V=Math.abs(S.x),k=Math.abs(S.y);(c.value?V>k&&V>400:k>V&&k>3)?t.value=S.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||Z()):t.value=s.value>.5}const Y=b(()=>o.value?{transform:r.value==="left"?`translateX(calc(-100% + ${s.value*a.value}px))`:r.value==="right"?`translateX(calc(100% - ${s.value*a.value}px))`:r.value==="top"?`translateY(calc(-100% + ${s.value*a.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${s.value*a.value}px))`:Z(),transition:"none"}:void 0);return Q(o,()=>{var V,k;const p=((V=u.value)==null?void 0:V.style.transform)??null,S=((k=u.value)==null?void 0:k.style.transition)??null;Oe(()=>{var I,T,X,ae;(T=u.value)==null||T.style.setProperty("transform",((I=Y.value)==null?void 0:I.transform)||"none"),(ae=u.value)==null||ae.style.setProperty("transition",((X=Y.value)==null?void 0:X.transition)||null)}),ft(()=>{var I,T;(I=u.value)==null||I.style.setProperty("transform",p),(T=u.value)==null||T.style.setProperty("transition",S)})}),{isDragging:o,dragProgress:s,dragStyles:Y}}function Z(){throw new Error}const Zt=["start","end","left","right","top","bottom"],jt=W({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Zt.includes(e)},sticky:Boolean,...Be(),...se(),...ht(),...yt({mobile:null}),...Ce(),...$e(),...Pe(),...re({tag:"nav"}),...Ee()},"VNavigationDrawer"),Gt=z()({name:"VNavigationDrawer",props:jt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,u){let{attrs:t,emit:h,slots:a}=u;const{isRtl:n}=Le(),{themeClasses:r}=Ae(e),{borderClasses:c}=Me(e),{backgroundColorClasses:f,backgroundColorStyles:y}=ie(ee(e,"color")),{elevationClasses:m}=He(e),{displayClasses:g,mobile:o}=We(e),{roundedClasses:s}=Ne(e),i=pt(),d=Ue(e,"modelValue",null,B=>!!B),{ssrBootStyles:C}=fe(),{scopeId:N}=bt(),H=F(),w=E(!1),{runOpenDelay:P,runCloseDelay:Y}=St(e,B=>{w.value=B}),p=b(()=>e.rail&&e.expandOnHover&&w.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),S=b(()=>Vt(e.location,n.value)),V=b(()=>e.persistent),k=b(()=>!e.permanent&&(o.value||e.temporary)),I=b(()=>e.sticky&&!k.value&&S.value!=="bottom");Q(()=>e.expandOnHover&&e.rail!=null,()=>{$(w,B=>h("update:rail",!B))}),Q(()=>!e.disableResizeWatcher,()=>{$(k,B=>!e.permanent&&_t(()=>d.value=!B))}),Q(()=>!e.disableRouteWatcher&&!!i,()=>{$(i.currentRoute,()=>k.value&&(d.value=!1))}),$(()=>e.permanent,B=>{B&&(d.value=!0)}),e.modelValue==null&&!k.value&&(d.value=e.permanent||!o.value);const{isDragging:T,dragProgress:X}=Xt({el:H,isActive:d,isTemporary:k,width:p,touchless:ee(e,"touchless"),position:S}),ae=b(()=>{const B=k.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):p.value;return T.value?B*X.value:B}),lt=b(()=>["top","bottom"].includes(e.location)?0:p.value),{layoutItemStyles:he,layoutItemScrimStyles:nt,layoutIsReady:ot}=Ye({id:e.name,order:b(()=>parseInt(e.order,10)),position:S,layoutSize:ae,elementSize:lt,active:b(()=>d.value||T.value),disableTransitions:b(()=>T.value),absolute:b(()=>e.absolute||I.value&&typeof ye.value!="string")}),{isStuck:ye,stickyStyles:st}=Ot({rootEl:H,isSticky:I,layoutItemStyles:he}),pe=ie(b(()=>typeof e.scrim=="string"?e.scrim:null)),rt=b(()=>({...T.value?{opacity:X.value*.2,transition:"none"}:void 0,...nt.value}));return Re({VList:{bgColor:"transparent"}}),q(()=>{const B=a.image||e.image;return l(D,null,[l(e.tag,te({ref:H,onMouseenter:P,onMouseleave:Y,class:["v-navigation-drawer",`v-navigation-drawer--${S.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":w.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":k.value,"v-navigation-drawer--persistent":V.value,"v-navigation-drawer--active":d.value,"v-navigation-drawer--sticky":I.value},r.value,f.value,c.value,g.value,m.value,s.value,e.class],style:[y.value,he.value,C.value,st.value,e.style,["top","bottom"].includes(S.value)?{height:"auto"}:{}]},N,t),{default:()=>{var be,we,Se;return[B&&l("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?l(le,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},a.image):l(De,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),a.prepend&&l("div",{class:"v-navigation-drawer__prepend"},[(be=a.prepend)==null?void 0:be.call(a)]),l("div",{class:"v-navigation-drawer__content"},[(we=a.default)==null?void 0:we.call(a)]),a.append&&l("div",{class:"v-navigation-drawer__append"},[(Se=a.append)==null?void 0:Se.call(a)])]}}),l(wt,{name:"fade-transition"},{default:()=>[k.value&&(T.value||d.value)&&!!e.scrim&&l("div",te({class:["v-navigation-drawer__scrim",pe.backgroundColorClasses.value],style:[rt.value,pe.backgroundColorStyles.value],onClick:()=>{V.value||(d.value=!1)}},N),null)]})])}),ot.then(()=>({isStuck:ye}))}}),Jt=""+new URL("LOGO-wr-CAwzyruB.png",import.meta.url).href,Kt={class:"text-center"},Qt=["src"],ea={__name:"hoverMenu",setup(e){const u=me(),t=u.account,h=u.icon,a=F([{title:"寫譜專區",to:"/writtingArea",prependIcon:"mdi-pencil-box"},{title:"我的鼓譜",to:"/myScore",prependIcon:"mdi-file-document-outline"},{title:"我的收藏",to:"/mySaving",prependIcon:"mdi-content-save-all-outline"},{title:"會員資料",to:"/profile",prependIcon:"mdi-account"}]);return(n,r)=>(x(),M("div",Kt,[l(Pt,{"open-on-hover":""},{activator:_(({props:c})=>[l(U,kt(xt(c)),{default:_(()=>[O("img",{src:v(h),id:"icon",style:{width:"15px",height:"15px"}},null,8,Qt),R(" "+oe(v(t)),1)]),_:2},1040)]),default:_(()=>[(x(!0),M(D,null,ne(a.value,(c,f)=>(x(),L(U,{key:f,to:c.to},{default:_(()=>[R(oe(c.title),1)]),_:2},1032,["to"]))),128))]),_:1})]))}},ta={class:"text-center pa-4 d-inline-block"},aa={__name:"register",setup(e){const u=F(!1),{api:t}=Tt(),h=ge(),a=Je({account:G().required("使用者帳號必填").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符").test("isAlphanumeric","使用者帳號格式錯誤",o=>ce.isAlphanumeric(o)),email:G().required("使用者信箱必填").test("isEmail","使用者信箱格式錯誤",o=>ce.isEmail(o)),password:G().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符"),passwordConfirm:G().oneOf([Et("password")],"密碼不一致")}),{handleSubmit:n,isSubmitting:r}=Ke({validationSchema:a}),c=J("account"),f=J("email"),y=J("password"),m=J("passwordConfirm"),g=n(async o=>{var s,i;try{await t.post("/user",{account:o.account,email:o.email,password:o.password}),h({text:"註冊成功",snackbarProps:{color:"green"}}),u.value=!1}catch(d){console.log(d),h({text:((i=(s=d==null?void 0:d.response)==null?void 0:s.data)==null?void 0:i.message)||"發生錯誤",snackbarProps:{color:"red"}})}});return(o,s)=>(x(),M("div",ta,[l(U,{onClick:s[0]||(s[0]=i=>u.value=!0),variant:"text",id:"clickme"},{default:_(()=>[R(" 點我註冊會員 ")]),_:1}),l(je,{modelValue:u.value,"onUpdate:modelValue":s[5]||(s[5]=i=>u.value=i),width:"auto"},{default:_(()=>[l(qe,null,{default:_(()=>[l(Fe,null,{default:_(()=>[R("會員註冊")]),_:1}),l(Xe,null,{default:_(()=>[l(Qe,{onSubmit:Ze(v(g),["prevent"]),disabled:v(r)},{default:_(()=>[l(j,{label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:v(c).value.value,"onUpdate:modelValue":s[1]||(s[1]=i=>v(c).value.value=i),"error-messages":v(c).errorMessage.value},null,8,["modelValue","error-messages"]),l(j,{label:"信箱",type:"email",modelValue:v(f).value.value,"onUpdate:modelValue":s[2]||(s[2]=i=>v(f).value.value=i),"error-messages":v(f).errorMessage.value},null,8,["modelValue","error-messages"]),l(j,{label:"確認密碼",type:"password",minlength:"4",maxlength:"20",counter:"",modelValue:v(m).value.value,"onUpdate:modelValue":s[3]||(s[3]=i=>v(m).value.value=i),"error-messages":v(m).errorMessage.value},null,8,["modelValue","error-messages"]),l(j,{label:"密碼",type:"password",minlength:"4",maxlength:"20",counter:"",hint:"請輸入英數字混合密碼",modelValue:v(y).value.value,"onUpdate:modelValue":s[4]||(s[4]=i=>v(y).value.value=i),"error-messages":v(y).errorMessage.value},null,8,["modelValue","error-messages"]),l(U,{type:"submit",loading:v(r)},{default:_(()=>[R("註冊")]),_:1},8,["loading"])]),_:1},8,["onSubmit","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},la=ze(aa,[["__scopeId","data-v-ace4e4d3"]]),na=e=>(It("data-v-db14b322"),e=e(),Bt(),e),oa=na(()=>O("span",null,"尚未註冊會員？",-1)),sa={__name:"logIn",setup(e){const u=F(!1),t=Ge(),h=me(),a=ge(),n=Je({account:G().required("使用者帳號必填").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符").test("isAlphanumeric","使用者帳號格式錯誤",g=>ce.isAlphanumeric(g)),password:G().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符")}),{handleSubmit:r,isSubmitting:c}=Ke({validationSchema:n}),f=J("account"),y=J("password"),m=r(async g=>{const o=await h.login(g);o==="登入成功"?(a({text:"登入成功",snackbarProps:{color:"green"}}),u.value=!1,await t.push("/profile"),window.location.reload()):alert(o)});return(g,o)=>(x(),M(D,null,[l(U,{"prepend-icon":"mdi-account",onClick:o[0]||(o[0]=s=>u.value=!0)},{default:_(()=>[R(" 註冊/登入 ")]),_:1}),l(je,{modelValue:u.value,"onUpdate:modelValue":o[3]||(o[3]=s=>u.value=s),width:"auto"},{default:_(()=>[l(qe,null,{default:_(()=>[l(Fe,null,{default:_(()=>[R("會員登入")]),_:1}),l(Xe,null,{default:_(()=>[l(Qe,{onSubmit:Ze(v(m),["prevent"]),disabled:v(c)},{default:_(()=>[l(j,{label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:v(f).value.value,"onUpdate:modelValue":o[1]||(o[1]=s=>v(f).value.value=s),"error-messages":v(f).errorMessage.value},null,8,["modelValue","error-messages"]),l(j,{label:"密碼",type:"password",minlength:"4",maxlength:"20",counter:"",hint:"請輸入英數字混合密碼",modelValue:v(y).value.value,"onUpdate:modelValue":o[2]||(o[2]=s=>v(y).value.value=s),"error-messages":v(y).errorMessage.value},null,8,["modelValue","error-messages"]),l(U,{type:"submit",loading:v(c)},{default:_(()=>[R("登入")]),_:1},8,["loading"])]),_:1},8,["onSubmit","disabled"]),O("div",null,[oa,l(la)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Ie=ze(sa,[["__scopeId","data-v-db14b322"]]),ra={class:"d-flex align-end",id:"bar-container"},ua=O("img",{src:Jt,alt:"logo",id:"logoImg"},null,-1),ia={key:0,id:"userAccount"},ca=["src"],da=O("h2",null,"會員專區",-1),va={key:2,id:"mobile-logIn"},pa={__name:"default",setup(e){const{mobile:u}=We(),t=me(),h=t.account,a=t.icon,n=ge(),r=Ge(),c=F(!1),f=b(()=>[{title:"尋找練鼓室",to:"/searchTrainingRoom",prependIcon:"mdi-map-search-outline"},{title:"尋找鼓譜",to:"/searchSong",prependIcon:"mdi-text-search-variant"}]),y=b(()=>[{title:"寫譜專區",to:"/writtingArea",prependIcon:"mdi-pencil-box"},{title:"我的鼓譜",to:"/myScore",prependIcon:"mdi-file-document-outline"},{title:"我的收藏",to:"/mySaving",prependIcon:"mdi-content-save-all-outline"},{title:"會員資料",to:"/profile",prependIcon:"mdi-account"}]),m=async()=>{await t.logout(),n({text:"登出成功",snackbarProps:{color:"green"}}),r.push("/")};return(g,o)=>{const s=Ve("router-link"),i=Ve("router-view");return x(),M(D,null,[l(Lt,{elevation:"0",color:"black",height:"100"},{default:_(()=>[O("div",ra,[l(s,{to:"/"},{default:_(()=>[l($t,null,{default:_(()=>[ua]),_:1})]),_:1}),l(Ct),v(u)?(x(),L(Dt,{key:0,onClick:o[0]||(o[0]=d=>c.value=!0)})):A("",!0),v(u)?A("",!0):(x(),M(D,{key:1},[(x(!0),M(D,null,ne(f.value,d=>(x(),L(U,{key:d.to,"prepend-icon":d.prependIcon,to:d.to},{default:_(()=>[R(oe(d.title),1)]),_:2},1032,["prepend-icon","to"]))),128)),v(t).isLogin?(x(),L(v(ea),{key:0})):A("",!0),v(t).isLogin?(x(),L(U,{key:1,onClick:m},{default:_(()=>[R("登出")]),_:1})):A("",!0),v(t).isLogin?A("",!0):(x(),L(v(Ie),{key:2}))],64))])]),_:1}),v(u)?(x(),L(Gt,{key:0,modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=d=>c.value=d),color:"navigation-drawer-color"},{default:_(()=>[v(t).isLogin?(x(),M("div",ia,[O("img",{src:v(a),id:"icon",style:{width:"40px",height:"40px"}},null,8,ca),O("span",null,oe(v(h)),1)])):A("",!0),l(_e),(x(!0),M(D,null,ne(f.value,d=>(x(),L(ue,{key:d.to,"prepend-icon":d.prependIcon,to:d.to,title:d.title},null,8,["prepend-icon","to","title"]))),128)),l(_e),v(t).isLogin?(x(),M(D,{key:1},[da,(x(!0),M(D,null,ne(y.value,d=>(x(),L(ue,{key:d.to,"prepend-icon":d.prependIcon,to:d.to,title:d.title},null,8,["prepend-icon","to","title"]))),128))],64)):A("",!0),v(t).isLogin?A("",!0):(x(),M("div",va,[l(v(Ie))])),v(t).isLogin?(x(),L(ue,{key:3,onClick:m,title:"登出",id:"v-list-item-logout"})):A("",!0)]),_:1},8,["modelValue"])):A("",!0),l(Yt,null,{default:_(()=>[l(i)]),_:1})],64)}}};export{pa as default};
